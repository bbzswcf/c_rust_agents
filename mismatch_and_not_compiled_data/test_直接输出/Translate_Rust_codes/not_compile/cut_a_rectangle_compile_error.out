Rust 编译失败:
warning: unused import: `std::mem`
 --> D:\code\rscode\C_Rust_BETA\temp_main.rs:1:5
  |
1 | use std::mem;
  |     ^^^^^^^^
  |
  = note: `#[warn(unused_imports)]` on by default

error[E0308]: mismatched types
  --> D:\code\rscode\C_Rust_BETA\temp_main.rs:58:25
   |
58 |     let len = (h + 1) * (w + 1) as usize;
   |                         ^^^^^^^^^^^^^^^^ expected `i32`, found `usize`

error[E0277]: cannot multiply `i32` by `usize`
  --> D:\code\rscode\C_Rust_BETA\temp_main.rs:58:23
   |
58 |     let len = (h + 1) * (w + 1) as usize;
   |                       ^ no implementation for `i32 * usize`
   |
   = help: the trait `Mul<usize>` is not implemented for `i32`
   = help: the following other types implement trait `Mul<Rhs>`:
             <&'a i32 as Mul<i32>>
             <&i32 as Mul<&i32>>
             <i32 as Mul<&i32>>
             <i32 as Mul>

error[E0308]: mismatched types
    --> D:\code\rscode\C_Rust_BETA\temp_main.rs:59:28
     |
59   |     let mut grid = vec![0; len];
     |                    --------^^^-
     |                    |       |
     |                    |       expected `usize`, found `i32`
     |                    arguments to this function are incorrect
     |
note: function defined here
    --> C:\Users\wang\.rustup\toolchains\stable-x86_64-pc-windows-msvc\lib/rustlib/src/rust\library\alloc\src\vec\mod.rs:2736:8
     |
2736 | pub fn from_elem<T: Clone>(elem: T, n: usize) -> Vec<T> {
     |        ^^^^^^^^^
help: you can convert an `i32` to a `usize` and panic if the converted value doesn't fit
     |
59   |     let mut grid = vec![0; len.try_into().unwrap()];
     |                               ++++++++++++++++++++

error[E0308]: mismatched types
  --> D:\code\rscode\C_Rust_BETA\temp_main.rs:68:13
   |
31 |     let mut t;
   |         ----- expected due to the type of this binding
...
68 |         t = (cy * (w + 1) + x) as usize;
   |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^ expected `i32`, found `usize`

error[E0277]: the type `[{integer}]` cannot be indexed by `i32`
  --> D:\code\rscode\C_Rust_BETA\temp_main.rs:69:14
   |
69 |         grid[t] = 1;
   |              ^ slice indices are of type `usize` or ranges of `usize`
   |
   = help: the trait `SliceIndex<[{integer}]>` is not implemented for `i32`, which is required by `Vec<{integer}>: Index<_>`
   = help: the trait `SliceIndex<[{integer}]>` is implemented for `usize`
   = help: for that trait implementation, expected `usize`, found `i32`
   = note: required for `Vec<{integer}>` to implement `Index<i32>`

error[E0277]: the type `[{integer}]` cannot be indexed by `i32`
  --> D:\code\rscode\C_Rust_BETA\temp_main.rs:70:14
   |
70 |         grid[len - t - 1] = 1;
   |              ^^^^^^^^^^^ slice indices are of type `usize` or ranges of `usize`
   |
   = help: the trait `SliceIndex<[{integer}]>` is not implemented for `i32`, which is required by `Vec<{integer}>: Index<_>`
   = help: the trait `SliceIndex<[{integer}]>` is implemented for `usize`
   = help: for that trait implementation, expected `usize`, found `i32`
   = note: required for `Vec<{integer}>` to implement `Index<i32>`

error[E0308]: mismatched types
  --> D:\code\rscode\C_Rust_BETA\temp_main.rs:71:31
   |
71 |         walk(&mut grid, w, h, len - 1, cy - 1, x, &mut cnt);
   |         ----                  ^^^^^^^ expected `usize`, found `i32`
   |         |
   |         arguments to this function are incorrect
   |
note: function defined here
  --> D:\code\rscode\C_Rust_BETA\temp_main.rs:5:4
   |
5  | fn walk(grid: &mut Vec<Byte>, w: i32, h: i32, len: usize, y: i32, x: i32, cnt: &mut u64) {
   |    ^^^^                                       ----------
help: you can convert an `i32` to a `usize` and panic if the converted value doesn't fit
   |
71 |         walk(&mut grid, w, h, (len - 1).try_into().unwrap(), cy - 1, x, &mut cnt);
   |                               +       +++++++++++++++++++++

error: aborting due to 7 previous errors; 1 warning emitted

Some errors have detailed explanations: E0277, E0308.
For more information about an error, try `rustc --explain E0277`.
